<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>The Frontend Express: A Journey from HR to IT</title>
    <meta name="description" content="3D Journey Visualization" />
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>

    <style>
      .popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.9);
        color: white;
        padding: 25px;
        border-radius: 15px;
        max-width: 500px;
        z-index: 1000;
        display: none;
        border: 3px solid #00d4ff;
        font-family: Arial, sans-serif;
      }
      .popup h3 {
        color: #00d4ff;
        margin-top: 0;
        font-size: 1.5em;
      }
      .close-btn {
        float: right;
        background: #ff4444;
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
      }
      .controls {
        position: fixed;
        bottom: 20px;
        left: 20px;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 20px;
        border-radius: 10px;
        z-index: 999;
        font-family: Arial, sans-serif;
      }
      .controls div {
        margin: 8px 0;
        font-size: 16px;
      }
      .train-info {
        position: fixed;
        top: 20px;
        right: 20px;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 15px;
        border-radius: 10px;
        z-index: 999;
        font-family: Arial, sans-serif;
      }
    </style>
  </head>
  <body>
    <button id="startJourneyBtn" style="
    position: absolute;
    top: 20px;
    left: 20px;
    z-index: 999;
    padding: 10px 20px;
    font-size: 18px;
    background: #2ecc71;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
  ">
    Start Journey
  </button>
  <button id="restartJourneyBtn" style="
  position: absolute;
  top: 60px;
  left: 20px;
  z-index: 999;
  padding: 10px 20px;
  font-size: 18px;
  background: #e74c3c;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
">
  Restart Journey
</button>

    <div class="controls">
      <div><strong>Controls:</strong></div>
      <div>• Mouse to look around</div>
      <div>• Click station boards for details</div>
      <div>• Camera follows the train automatically</div>
      <div>• Press 'N' for next station (manual)</div>
    </div>

    <div class="train-info">
      <div id="current-status">Starting journey from HR Departure...</div>
    </div>

    <!-- Module Info Popups -->
    <div id="popup-fundamentals" class="popup">
      <button class="close-btn" onclick="closePopup('popup-fundamentals')">
        ×
      </button>
      <h3>Module 1: Fundamentals</h3>
      <p>
        The foundation of web development - HTML, CSS, and basic programming
        concepts. This challenging module set the groundwork for everything that
        followed.
      </p>
      <p>
        <strong>Key Topics:</strong> HTML structure, CSS styling, responsive
        design basics, and development environment setup.
      </p>
      <p>
        <strong>Challenge Level:</strong> High - New concepts and learning curve
      </p>
    </div>

    <div id="popup-cc1" class="popup">
      <button class="close-btn" onclick="closePopup('popup-cc1')">×</button>
      <h3>Module 2: C&C-1 Junction</h3>
      <p>
        Communication & Collaboration module focusing on teamwork, project
        management, and professional development skills.
      </p>
      <p>
        <strong>Key Topics:</strong> Agile methodologies, team communication,
        version control with Git, and collaborative workflows.
      </p>
      <p><strong>Challenge Level:</strong> Moderate - Building team skills</p>
    </div>

    <div id="popup-js-react" class="popup">
      <button class="close-btn" onclick="closePopup('popup-js-react')">
        ×
      </button>
      <h3>Module 3: JavaScript & React Crossing</h3>
      <p>
        The challenging deep dive into JavaScript fundamentals and React
        framework - a major milestone in the frontend journey.
      </p>
      <p>
        <strong>Key Topics:</strong> JavaScript ES6+, React components, state
        management, hooks, and modern development practices.
      </p>
      <p>
        <strong>Challenge Level:</strong> Very High - Complex programming
        concepts
      </p>
    </div>

    <div id="popup-cc2" class="popup">
      <button class="close-btn" onclick="closePopup('popup-cc2')">×</button>
      <h3>Module 4: C&C-2 Junction</h3>
      <p>
        Advanced collaboration techniques and project management skills for
        larger development teams.
      </p>
      <p>
        <strong>Key Topics:</strong> Advanced Git workflows, code reviews,
        project planning, and stakeholder communication.
      </p>
      <p><strong>Challenge Level:</strong> Moderate - Advanced collaboration</p>
    </div>

    <div id="popup-backend" class="popup">
      <button class="close-btn" onclick="closePopup('popup-backend')">×</button>
      <h3>Module 5: Backend Station</h3>
      <p>
        Server-side development, databases, and API creation - expanding beyond
        frontend into full-stack development.
      </p>
      <p>
        <strong>Key Topics:</strong> Node.js, Express.js, databases, RESTful
        APIs, and server deployment.
      </p>
      <p><strong>Challenge Level:</strong> Moderate - New backend concepts</p>
    </div>

    <div id="popup-cc3" class="popup">
      <button class="close-btn" onclick="closePopup('popup-cc3')">×</button>
      <h3>Module 6: C&C-3 Junction</h3>
      <p>
        Leadership and advanced project management skills for senior development
        roles.
      </p>
      <p>
        <strong>Key Topics:</strong> Team leadership, technical decision making,
        code architecture, and mentoring.
      </p>
      <p><strong>Challenge Level:</strong> Moderate - Leadership skills</p>
    </div>

    <div id="popup-immersive" class="popup">
      <button class="close-btn" onclick="closePopup('popup-immersive')">
        ×
      </button>
      <h3>Module 7: Immersive Web Station</h3>
      <p>
        Cutting-edge web technologies including VR, AR, and 3D web experiences -
        the future of web development.
      </p>
      <p>
        <strong>Key Topics:</strong> A-Frame, WebXR, 3D graphics, immersive
        experiences, and emerging web technologies.
      </p>
      <p><strong>Challenge Level:</strong> High - Cutting-edge technology</p>
    </div>

    <a-scene
      vr-mode-ui="enabled: true"
      embedded
      style="height: 100vh; width: 100vw"
      background="color: #87CEEB"
    >
      <!-- Assets -->
      <a-assets>
        <!-- Textures -->
        <a-mixin
          id="station-board"
          geometry="primitive: box; width: 12; height: 6; depth: 0.5"
          material="color: #2c3e50"
          animation__hover="property: scale; to: 1.1 1.1 1.1; startEvents: mouseenter; dur: 200"
          animation__unhover="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 200"
        >
        </a-mixin>

        <a-asset-item id="myModel" src="src/assets/train3D.glb"></a-asset-item>
      </a-assets>

      <!-- Lighting -->
      <a-light type="ambient" color="#404040" intensity="0.6"></a-light>
      <a-light
        type="directional"
        position="20 40 20"
        color="#ffffff"
        intensity="1.2"
      ></a-light>

      <!-- Sky and Environment -->
      <a-sky id="sky" src="src/assets/background-Image.png"></a-sky>

      <!-- Ground -->
      <!-- <a-plane
        position="0 -2 0"
        rotation="-90 0 0"
        width="400"
        height="400"
        color="#90EE90"
      ></a-plane> -->

      <!-- Clouds -->
      <a-sphere
        id="cloud1"
        position="-40 30 -60"
        scale="6 4 6"
        color="#ffffff"
        opacity="0.8"
      ></a-sphere>
      <a-sphere
        id="cloud2"
        position="50 36 -70"
        scale="8 5 8"
        color="#ffffff"
        opacity="0.8"
      ></a-sphere>
      <a-sphere
        id="cloud3"
        position="0 40 -80"
        scale="7 4 7"
        color="#ffffff"
        opacity="0.8"
      ></a-sphere>

      <!-- Train Track -->
      <a-entity id="track-system">
        <!-- Main track segments -->
        <a-box
          position="0 -1.5 0"
          width="500"
          height="0.5"
          depth="1.5"
          color="#8B4513"
        ></a-box>
        <a-box
          position="0 -1.5 -2.5"
          width="500"
          height="0.5"
          depth="1.5"
          color="#8B4513"
        ></a-box>

        <!-- Track ties (sleepers) -->
        <a-entity id="track-ties">
          <!-- Generate ties programmatically for better performance -->
        </a-entity>
      </a-entity>

      <!-- HR Departure Station -->
      <a-entity position="-160 0 0">
        <a-box
          position="0 8 -15"
          width="20"
          height="8"
          depth="1"
          color="#34495e"
        >
          <a-text
            position="0 0 0.6"
            value="HR DEPARTURE"
            align="center"
            color="#ECF0F1"
            scale="4 4 1"
          ></a-text>
        </a-box>
        <!-- Station platform -->
        <a-box
          position="0 -1 -15"
          width="30"
          height="2"
          depth="20"
          color="#BDC3C7"
        ></a-box>
        <!-- Station roof -->
        <a-box
          position="0 6 -15"
          width="35"
          height="0.5"
          depth="25"
          color="#E67E22"
        ></a-box>
        <!-- Support pillars -->
        <a-cylinder
          position="-12 2 -15"
          radius="0.8"
          height="8"
          color="#95A5A6"
        ></a-cylinder>
        <a-cylinder
          position="12 2 -15"
          radius="0.8"
          height="8"
          color="#95A5A6"
        ></a-cylinder>
      </a-entity>

    
      </a-entity>
      <!-- Tunnel Station -->
      <a-entity id="station1" position="-80 0 0">
        <!-- Tunnel (half cylinder rotated sideways) -->
        <a-cylinder
          height="5"
          radius="15"
          theta-length="180"
          rotation="0 0 90"
          color="#444444"
          open-ended="true"
          side="double"
          segments-radial="30"
        >
        </a-cylinder>

        <!-- Station Name Background Board -->
        <a-plane
          class="clickable-board"
          position="0 2.5 10.05"
          width="10"
          height="5"
          color="#FF0000"
          opacity="0.9"
          side="double"
          id="station1"
          event-set__click="_event: click; visible: true"
        >
        </a-plane>
        <!-- Station Name Text -->
        <a-text
          value="Frontend Station"
          position="0 2.5 10.06"
          align="center"
          color="#ffffff"
          scale="5 5 3"
          font="https://cdn.aframe.io/fonts/mozillavr.fnt"
          side="double"
        >
        </a-text>
      </a-entity>
      <a-entity id="popup" visible="false" position="0 10 -5">
        <a-plane width="10" height="6" color="#222" opacity="0.9">
          <a-text
            value="Module: HTML & CSS\nLearn about page layout, styling, and semantics."
            color="#fff"
            position="0 2 0.1"
            align="center"
            wrap-count="30"
          ></a-text>
          <a-circle
            id="closeBtn"
            radius="0.3"
            position="4.5 2.5 0.1"
            color="#E74C3C"
            class="clickable-board"
          ></a-circle>
        </a-plane>
      </a-entity>

      <!-- Station 2: C&C-1 Junction -->
      <a-entity id="station2" position="-40 0 0">
        <!-- Tunnel (half cylinder rotated sideways) -->
        <a-cylinder
          height="10"
          radius="10"
          theta-length="180"
          rotation="0 0 90"
          color="#444444"
          open-ended="true"
          side="double"
          segments-radial="30"
        >
        </a-cylinder>

        <!-- Station Name Background Board -->
        <a-plane
          position="0 2.5 10.05"
          width="10"
          height="5"
          color="#FF0000"
          opacity="0.9"
          side="double"
        >
        </a-plane>
        <!-- Station Name Text -->
        <a-text
          value="C&C-1 Junction"
          position="0 2.5 10.10"
          align="center"
          color="#ffffff"
          scale="5 5 3"
          font="https://cdn.aframe.io/fonts/mozillavr.fnt"
          side="double"
        >
        </a-text>
      </a-entity>

      <!-- Station 3: JavaScript & React Crossing (Challenging - Stormy) -->
      <a-entity id="station3" position="0 0 0">
        <!-- Tunnel (half cylinder rotated sideways) -->
        <a-cylinder
          height="10"
          radius="10"
          theta-length="180"
          rotation="0 0 90"
          color="#444444"
          open-ended="true"
          side="double"
          segments-radial="30"
        >
        </a-cylinder>

        <!-- Station Name Background Board -->
        <a-plane
          position="0 2.5 10.05"
          width="10"
          height="5"
          class="station-clickable"
          color="#FF0000"
          opacity="0.9"
          side="double"
        >
        </a-plane>
        <!-- Station Name Text -->
        <a-text
          value="JavaScript & React Crossing"
          position="0 2.5 10.10"
          align="center"
          color="#ffffff"
          scale="4 4 3"
          font="https://cdn.aframe.io/fonts/mozillavr.fnt"
          side="double"
        >
        </a-text>
        <!-- Storm effects -->
        <!-- <a-entity id="storm3" visible="false">
          <a-light
            type="point"
            position="0 20 0"
            color="#ffffff"
            intensity="3"
            animation="property: intensity; to: 0.3; dur: 150; dir: alternate; loop: true"
          ></a-light>
        </a-entity> -->
      </a-entity>

      <!-- Station 4: C&C-2 Junction -->
      <a-entity id="station4" position="40 0 0">
        <a-cylinder
          height="10"
          radius="10"
          theta-length="180"
          rotation="0 0 90"
          color="#444444"
          open-ended="true"
          side="double"
          segments-radial="30"
        >
        </a-cylinder>

        <!-- Station Name Background Board -->
        <a-plane
          position="0 2.5 10.05"
          width="10"
          height="5"
          color="#FF0000"
          opacity="0.9"
          side="double"
        >
        </a-plane>
        <!-- Station Name Text -->
        <a-text
          value="C&C-2 Junction"
          position="0 2.5 10.10"
          align="center"
          color="#ffffff"
          scale="5 5 3"
          font="https://cdn.aframe.io/fonts/mozillavr.fnt"
          side="double"
        >
        </a-text>
      </a-entity>

      <!-- Station 5: Backend Station -->
      <a-entity id="station5" position="80 0 0">
        <!-- Tunnel (half cylinder rotated sideways) -->
        <a-cylinder
          height="10"
          radius="10"
          theta-length="180"
          rotation="0 0 90"
          color="#444444"
          open-ended="true"
          side="double"
          segments-radial="30"
        >
        </a-cylinder>

        <!-- Station Name Background Board -->
        <a-plane
          position="0 2.5 10.05"
          width="10"
          height="5"
          color="#FF0000"
          opacity="0.9"
          side="double"
        >
        </a-plane>
        <!-- Station Name Text -->
        <a-text
          value="Backend Station"
          position="0 2.5 10.10"
          align="center"
          color="#ffffff"
          scale="5 5 3"
          font="https://cdn.aframe.io/fonts/mozillavr.fnt"
          side="double"
        >
        </a-text>
      </a-entity>

      <!-- Station 6: C&C-3 Junction -->
      <a-entity id="station6" position="120 0 0">
        <!-- Tunnel (half cylinder rotated sideways) -->
        <a-cylinder
          height="10"
          radius="10"
          theta-length="180"
          rotation="0 0 90"
          color="#444444"
          open-ended="true"
          side="double"
          segments-radial="30"
        >
        </a-cylinder>

        <!-- Station Name Background Board -->
        <a-plane
          position="0 2.5 10.05"
          width="10"
          height="5"
          color="#FF0000"
          opacity="0.9"
          side="double"
        >
        </a-plane>
        <!-- Station Name Text -->
        <a-text
          value="C&C-3 Junction"
          position="0 2.5 10.10"
          align="center"
          color="#ffffff"
          scale="5 5 3"
          font="https://cdn.aframe.io/fonts/mozillavr.fnt"
          side="double"
        >
        </a-text>
      </a-entity>

      <!-- Station 7: Immersive Web Station -->
      <a-entity id="station7" position="160 0 0">
        <!-- Tunnel (half cylinder rotated sideways) -->
        <a-cylinder
          height="10"
          radius="10"
          theta-length="180"
          rotation="0 0 90"
          color="#444444"
          open-ended="true"
          side="double"
          segments-radial="30"
        >
        </a-cylinder>

        <!-- Station Name Background Board -->
        <a-plane
          position="0 2.5 10.05"
          width="10"
          height="5"
          color="#FF0000"
          opacity="0.9"
          side="double"
        >
        </a-plane>
        <!-- Station Name Text -->
        <a-text
          value="Immersive Web Station"
          position="0 2.5 10.10"
          align="center"
          color="#ffffff"
          scale="4 4 3"
          font="https://cdn.aframe.io/fonts/mozillavr.fnt"
          side="double"
        >
        </a-text>
      </a-entity>

      <!-- Final Message Board -->
      <a-entity position="200 0 0">
        <a-cylinder
          height="10"
          radius="10"
          theta-length="180"
          rotation="0 0 90"
          color="#27AE60"
          open-ended="true"
          side="double"
          segments-radial="30"
        >
        </a-cylinder>

        <!-- Station Name Background Board -->
        <a-plane
          position="0 2.5 10.05"
          width="10"
          height="5"
          color="#444444"
          opacity="0.9"
          side="double"
        >
        </a-plane>
        <!-- Station Name Text -->
        <a-text
          value="Many more to come"
          position="0 2.5 10.10"
          align="center"
          color="#F1C40F"
          scale="4 4 3"
          font="https://cdn.aframe.io/fonts/mozillavr.fnt"
          side="double"
        >
        </a-text>
      </a-entity>

      
      <!-- Camera Rig with Camera and Train -->
      <a-entity id="cameraRig" position="-140 6 20">
        <a-camera
          look-controls="pointerLockEnabled: false"
          raycaster="objects: .station-clickable"
        >
          <a-cursor
            color="#FF4444"
            animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
          ></a-cursor>
        </a-camera>
      
        <!-- Train inside rig -->
        <a-entity
          id="myTrain"
          gltf-model="#myModel"
          position="0 0 -12"
          rotation="0 180 0"
          scale="8 6 4"
        ></a-entity>
      
        <!-- Title text inside rig so it moves with camera -->
        <a-text
          id="mainTitle"
          value="The Frontend Express: A Journey from HR to IT"
          position="0 10 -15"
          align="center"
          color="#ffffff"
          scale="8 8 4"
          font="https://cdn.aframe.io/fonts/mozillavr.fnt"
          side="double"
        ></a-text>
      </a-entity>
      
    </a-scene>

    <script>
      // Global variables
      let trainElement;
      let cameraRig;
      let currentStation = 0;
      let isMoving = false;
      let stormActive = false;
      let statusElement;

      // Station positions
      const stationPositions = [-80, -40, 0, 40, 80, 120, 160];
      const stationNames = [
        "Fundamentals Station",
        "C&C-1 Junction",
        "JavaScript & React Crossing",
        "C&C-2 Junction",
        "Backend Station",
        "C&C-3 Junction",
        "Immersive Web Station",
      ];
      const challengingStations = [0, 2]; // Fundamentals and JS/React

      // Initialize the scene
      document.addEventListener("DOMContentLoaded", function () {
        trainElement = document.querySelector("#train");
        cameraRig = document.querySelector("#cameraRig");
        statusElement = document.querySelector("#current-status");

        // Generate track ties
        generateTrackTies();

        // Add click listeners to station boards
        addStationClickListeners();

        // Start the train journey
        setTimeout(startTrainJourney, 3000);
      });

      function generateTrackTies() {
        const trackTies = document.querySelector("#track-ties");
        for (let i = -200; i <= 240; i += 8) {
          const tie = document.createElement("a-box");
          tie.setAttribute("position", `${i} -1.3 0`);
          tie.setAttribute("width", "0.8");
          tie.setAttribute("height", "0.5");
          tie.setAttribute("depth", "8");
          tie.setAttribute("color", "#654321");
          trackTies.appendChild(tie);
        }
      }

      function addStationClickListeners() {
        const boards = document.querySelectorAll(".clickable-board");
        boards.forEach((board) => {
          board.addEventListener("click", function () {
            const popupId = this.getAttribute("data-popup");
            showPopup(popupId);
          });
        });
      }

      function showPopup(popupId) {
        document.getElementById(popupId).style.display = "block";
      }

      function closePopup(popupId) {
        document.getElementById(popupId).style.display = "none";
      }

      function updateStatus(message) {
        statusElement.textContent = message;
      }

      function startTrainJourney() {
        updateStatus("Starting journey from HR Departure...");
        setTimeout(() => {
          moveToNextStation();
        }, 2000);
      }

      function moveToNextStation() {
        if (currentStation >= stationPositions.length) {
          // Journey complete - move to final position
          updateStatus("Journey Complete! 🎉");
          moveTrainTo(200, false, () => {
            updateStatus(
              "Welcome to your bright future! Many more adventures await! 😊"
            );
          });
          return;
        }

        const targetPosition = stationPositions[currentStation];
        const isChallengingStation =
          challengingStations.includes(currentStation);
        const stationName = stationNames[currentStation];

        updateStatus(`Approaching ${stationName}...`);

        moveTrainTo(targetPosition, isChallengingStation, () => {
          updateStatus(`Arrived at ${stationName} - Learning in progress...`);
          // Wait at station
          setTimeout(() => {
            if (isChallengingStation) {
              stopStorm();
              updateStatus(
                `Conquered the challenges at ${stationName}! Moving on...`
              );
            } else {
              updateStatus(
                `Smooth journey through ${stationName}! Next stop ahead...`
              );
            }
            currentStation++;
            setTimeout(moveToNextStation, 1000);
          }, 1000);
        });
      }

      function moveTrainTo(targetX, isChallengingStation, callback) {
        if (isMoving) return;
        isMoving = true;

        const currentPos = trainElement.getAttribute("position");
        const duration = Math.abs(targetX - currentPos.x) * 120; // Adjust speed

        if (isChallengingStation) {
          startStorm();
          // Add shaking animation
          trainElement.setAttribute(
            "animation__shake",
            "property: rotation; to: 0 0 3; dur: 300; dir: alternate; loop: true"
          );
          updateStatus("Challenging times ahead - stay strong! 💪");
        }

        // Move train
        trainElement.setAttribute(
          "animation__move",
          `property: position; to: ${targetX} 1 0; dur: ${duration}; easing: easeInOutQuad`
        );

        // Move camera to follow train
        cameraRig.setAttribute(
          "animation__follow",
          `property: position; to: ${targetX} 8 15; dur: ${duration}; easing: easeInOutQuad`
        );

        setTimeout(() => {
          trainElement.removeAttribute("animation__move");
          cameraRig.removeAttribute("animation__follow");
          if (isChallengingStation) {
            trainElement.removeAttribute("animation__shake");
          }
          isMoving = false;
          if (callback) callback();
        }, duration);
      }

      function startStorm() {
        if (stormActive) return;
        stormActive = true;

        // Change sky color
        document.querySelector("#sky").setAttribute("color", "#00000000");

        // Show storm effects at challenging stations
        const storm1 = document.querySelector("#storm1");
        const storm3 = document.querySelector("#storm3");

        if (storm1) storm1.setAttribute("visible", "true");
        if (storm3) storm3.setAttribute("visible", "true");

        // Animate clouds
        document
          .querySelector("#cloud1")
          .setAttribute(
            "animation__storm",
            "property: position; to: -30 30 -60; dur: 1500; dir: alternate; loop: true"
          );
        document
          .querySelector("#cloud2")
          .setAttribute(
            "animation__storm",
            "property: position; to: 40 36 -70; dur: 1800; dir: alternate; loop: true"
          );
      }

      function stopStorm() {
        if (!stormActive) return;
        stormActive = false;

        // Restore clear sky
        document.querySelector("#sky").setAttribute("color", "#00000000");

        // Hide storm effects
        const storm1 = document.querySelector("#storm1");
        const storm3 = document.querySelector("#storm3");

        if (storm1) storm1.setAttribute("visible", "false");
        if (storm3) storm3.setAttribute("visible", "false");

        // Stop cloud animations
        document.querySelector("#cloud1").removeAttribute("animation__storm");
        document.querySelector("#cloud2").removeAttribute("animation__storm");
      }

      // Keyboard controls for manual train movement
      document.addEventListener("keydown", function (event) {
        if (event.key === "n" || event.key === "N") {
          // Next station (for testing)
          if (!isMoving && currentStation < stationPositions.length) {
            moveToNextStation();
          }
        }
      });

      document.addEventListener("keydown", function (event) {
        if (event.key === "n" || event.key === "N") {
          if (!isMoving && currentStation < stationPositions.length) {
            moveToNextStation();
          }
        }
      });
      AFRAME.registerComponent("show-popup-on-click", {
        init: function () {
          this.el.addEventListener("click", () => {
            const popup = document.querySelector("#popup");
            popup.setAttribute("visible", true);
          });
        },
      });

      document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll(".station-clickable").forEach((board) => {
          console.log("Station clicked");
          board.setAttribute("show-popup-on-click", "");
        });
      });
      document.querySelector("#closeBtn").addEventListener("click", () => {
        document.querySelector("#popup").setAttribute("visible", false);
      });
      
  let journeyStarted = false;

  // Hide button and start movement on click
  document.getElementById('startJourneyBtn').addEventListener('click', function () {
    const cameraRig = document.getElementById('cameraRig');

    cameraRig.setAttribute('animation', {
      property: 'position',
      to: '190 6 20',
      dur: 60000,
      easing: 'linear'
    });

    // Optionally hide the button after starting
    // this.style.display = 'none';
  });
  document.getElementById('restartJourneyBtn').addEventListener('click', function () {
    const rig = document.getElementById('cameraRig');

    // Reset instantly
    rig.removeAttribute('animation');
    rig.setAttribute('position', '-140 6 20');

    // Show Start button again
    cameraRig.setAttribute('animation', {
      property: 'position',
      to: '190 6 20',
      dur: 60000,
      easing: 'linear'
    });
  });
</script>
  </body>
</html>
